<!DOCTYPE html>

<html lang="es">
	<head>
		<%- include ('../partials/head') %>
		<link rel="stylesheet" href="/css/profile.css">
		<title>Profile</title>
		
	</head>

	<header>
		<%- include ('../partials/header') %>
	</header>

<body>
	
	
	<!-- Container -->
	<div class="container-desk">
		<div class="user-profile">
			<section class="user-img">	
				<a class="user-img-a" href="/user/profile"><img class="user-avatar" src="/img/users/<%= user.image %> "></a>
			<form action="/user/profile/<%=user.id_user%>/edit?_method=DELETE"  method="post" class="user-btn-edit-conte">	
				<button class="user-btn-edit">Borrar Perfil</button>
			</form>
			</section>

			<section class="user-text">
				<h2 class="user-titulo">Editar</h2>
                <form class="user-form-edit" action="/user/profile/<%=user.id_user%>/edit" method="POST" enctype="multipart/form-data">

					<div class="user-input">
                        <div class="user-sub-input">Nombre</div>
							<div class="cont-input">
								<input class="user-input-txt" type="text" name="nombre" placeholder="Ingrese su Nombre" value="<%= locals.oldData ? oldData.nombre : user.name %>">
								<div class="error-message oculto" id="1"></div>
								<% if (locals.errors && errors.nombre) { %>
										<div class="error-message errorNombre" id="nombreErrorBase">
											<%= errors.nombre.msg %>
										</div>
									<% } %>
							</div>
                    </div> 


                    <div class="user-input"> 
                        <div class="user-sub-input">Apellido</div>
						<div class="cont-input">
						<input class="user-input-txt" type="text" name="apellido" placeholder="Ingrese su Apellido" value="<%= locals.oldData ? oldData.apellido : user.last_name %>" >
						<div class="error-message oculto" id="2"></div>
						        <% if (locals.errors && errors.apellido) { %>
									<div class="error-message errorNombre" id="apellidoErrorBase">
										<%= errors.apellido.msg %>
									</div>
								<% } %>
						</div>
                    </div>

                    <div class="user-input">
                        <div class="user-sub-input">Usuario</div>
						<div class="cont-input">
                        <input class="user-input-txt" type="text" name="usuario" placeholder="Ingrese un Usuario" value="<%= locals.oldData ? oldData.usuario : user.name_user %>" >
						<div class="error-message oculto" id="3"></div>
						    <% if (locals.errors && errors.usuario) { %>
								<div class="error-message errorNombre" id="usuarioErrorBase">
									<%= errors.usuario.msg %>
								</div>
							<% } %>
					</div>
                    </div>

                    <div class="user-input">
                        <div class="user-sub-input">Email</div>
                        <div class="cont-input">
                        <input class="user-input-txt" type="email" name="email" placeholder="Ingrese un e-mail" value="<%= locals.oldData ? oldData.email : user.email %>" >
						<div class="error-message oculto" id="4"></div>
						    <% if (locals.errors && errors.email) { %>
								<div class="error-message errorNombre" id="emailErrorBase">
									<%= errors.email.msg %>
								</div>
							<% } %>
					</div>
                    </div>					
					<br> 

                    <h4 class="editPassword">Editar contraseña</h4>


					<div class="user-input invisible contraseñaActual">
                        <div class="user-sub-input">Contraseña actual</div>
							<div class="cont-input">
								<input class="user-input-txt" type="text" name="password" placeholder="Ingrese su Contraseña actual">
								<div class="error-message oculto" id="5"></div>
								<% if (locals.errors && errors.nombre) { %>
										<div class="error-message errorNombre" id="passwordErrorBase">
											<%= errors.nombre.msg %>
										</div>
									<% } %>
							</div>
                    </div> 

					<div class="user-input invisible contraseñaActual">
                        <div class="user-sub-input">contraseña</div>
							<div class="cont-input">
								<input class="user-input-txt" type="text" name="password" placeholder="Ingrese su contraseña nueva" >
								<div class="error-message oculto" id="5"></div>
								<% if (locals.errors && errors.nombre) { %>
										<div class="error-message errorNombre" id="passwordErrorBase">
											<%= errors.nombre.msg %>
										</div>
									<% } %>
							</div>
                    </div> 


                    <div class="user-input invisible contraseñaActual" > 
                        <div class="user-sub-input">Confirmar Contraseña</div>
						<div class="cont-input">
						<input class="user-input-txt" type="text" name="confirmPassword" placeholder="repita la contraseña" >
						<div class="error-message oculto" id="6"></div>
						        <% if (locals.errors && errors.apellido) { %>
									<div class="error-message errorNombre" id="confirmPasswordErrorBase">
										<%= errors.apellido.msg %>
									</div>
								<% } %>
						</div>
                    </div>

                    <div class="user-input">
                        <input  class="user-input-text"  type="file" id="portada" name="imgUser"  >
                    </div>
					<% if (locals.errors && errors.imgUser) { %>
					<div class="user-input">
						<div class="error-message">
							 <%= errors.imgUser.msg %>
						</div>
				    </div>
					<% } %>
				
					
					<br>
						<button class="user-btn-edit">Confirmar Cambios</button>
					


						
				</form>
			</section>
				<br>
				<br>	
		
		</div>
	</div>
	<div class="container-mobile">
		<div class="user-profile">
			<section class="user-img">	
				<a class="user-img-a" href="/user/profile"><img class="user-avatar" src="/img/users/<%= user.image %> "></a>
			</section>

			<section class="user-text">
				<h2 class="user-titulo">Editar</h2>
                <form class="user-form-edit" action="/user/profile/<%=user.id_user%>/edit" method="POST" enctype="multipart/form-data">

					<div class="user-input">
                        <div class="user-sub-input">Nombre</div>
							<div class="cont-input">
								<input class="user-input-txt" type="text" name="nombre" placeholder="Ingrese su Nombre" value="<%= locals.oldData ? oldData.nombre : user.name %>">
								<div class="error-message oculto" id="1"></div>
								    <% if (locals.errors && errors.nombre) { %>
										<div class="error-message errorNombre" id="nombreErrorBase">
											<%= errors.nombre.msg %>
										</div>
									<% } %>
							</div>
                    </div> 


                    <div class="user-input"> 
                        <div class="user-sub-input">Apellido</div>
						<div class="cont-input">
						<input class="user-input-txt" type="text" name="apellido" placeholder="Ingrese su Apellido" value="<%= locals.oldData ? oldData.apellido : user.last_name %>" >
						<div class="error-message oculto" id="2"></div>
								<% if (locals.errors && errors.apellido) { %>
									<div class="error-message errorNombre"id="apellidoErrorBase">
										<%= errors.apellido.msg %>
									</div>
								<% } %>
						</div>
                    </div>

                    <div class="user-input">
                        <div class="user-sub-input">Usuario</div>
						<div class="cont-input">
                        <input class="user-input-txt" type="text" name="usuario" placeholder="Ingrese un Usuario" value="<%= locals.oldData ? oldData.usuario : user.name_user %>" >
						<div class="error-message oculto" id="3"></div>
						    <% if (locals.errors && errors.usuario) { %>
								<div class="error-message errorNombre" id="usuarioErrorBase">
									<%= errors.usuario.msg %>
								</div>
							<% } %>
					</div>
                    </div>

                    <div class="user-input">
                        <div class="user-sub-input">Email</div>
                        <div class="cont-input">
                        <input class="user-input-txt" type="email" name="email" placeholder="Ingrese un e-mail" value="<%= locals.oldData ? oldData.email : user.email %>" >
						<div class="error-message oculto" id="4"></div>
						    <% if (locals.errors && errors.email) { %>
								<div class="error-message errorNombre" id="emailErrorBase">
									<%= errors.email.msg %>
								</div>
							<% } %>
					</div>
                    </div>
					
					<h4 class="editPassword">Editar contraseña</h4>


					<div class="user-input invisible contraseñaActual">
                        <div class="user-sub-input">Contraseña actual</div>
							<div class="cont-input">
								<input class="user-input-txt" type="text" name="nombre" placeholder="Ingrese su Nombre" value="<%= locals.oldData ? oldData.nombre : user.name %>">
								<div class="error-message oculto" id="1"></div>
								<% if (locals.errors && errors.nombre) { %>
										<div class="error-message errorNombre" id="nombreErrorBase">
											<%= errors.nombre.msg %>
										</div>
									<% } %>
							</div>
                    </div> 

					<div class="user-input invisible contraseñaActual">
                        <div class="user-sub-input">contraseña</div>
							<div class="cont-input">
								<input class="user-input-txt" type="text" name="nombre" placeholder="Ingrese su Nombre" value="<%= locals.oldData ? oldData.nombre : user.name %>">
								<div class="error-message oculto" id="1"></div>
								<% if (locals.errors && errors.nombre) { %>
										<div class="error-message errorNombre" id="nombreErrorBase">
											<%= errors.nombre.msg %>
										</div>
									<% } %>
							</div>
                    </div> 


                    <div class="user-input invisible contraseñaActual" > 
                        <div class="user-sub-input">Confirmar Contraseña</div>
						<div class="cont-input">
						<input class="user-input-txt" type="text" name="apellido" placeholder="Ingrese su Apellido" value="<%= locals.oldData ? oldData.apellido : user.last_name %>" >
						<div class="error-message oculto" id="2"></div>
						        <% if (locals.errors && errors.apellido) { %>
									<div class="error-message errorNombre" id="apellidoErrorBase">
										<%= errors.apellido.msg %>
									</div>
								<% } %>
						</div>
                    </div>



					<br>                
                    <div class="user-input">
                        <input  class="user-input-text"  type="file" id="portada" name="imgUser"  >
                    </div>
					<% if (locals.errors && errors.imgUser) { %>
					<div class="user-input">
						<div class="error-message">
							 <%= errors.imgUser.msg %>
						</div>
				    </div>
					<% } %>
				
					
					<br>
						<button class="user-btn-edit">Confirmar Cambios</button>
						<form action="/user/profile/<%=user.id_user%>/edit?_method=DELETE"  method="post" class="user-btn-edit-conte">	
							<button class="user-btn-edit">Borrar Perfil</button>
						</form>
				</form>
			</section>
				<br>
				<br>	
		
		</div>
	</div>
	<br>
	<br>
	<script src="/js/userEdit.js"></script>
</body>

<footer>
    <%- include ('../partials/footer') %>

</footer>

</html>

